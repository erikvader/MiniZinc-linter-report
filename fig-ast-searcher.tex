\ifshowastnumbers\newcounter{asdasd}\fi
\begin{tikzpicture}[
label distance=-10pt,
every label/.style={blue},
lbl/.style={label=160:{\ifshowastnumbers\stepcounter{asdasd}\arabic{asdasd}\fi}}
]
  \node at (0, 0) {\mi{constraint}} [sibling distance=60pt]
  child {node[lbl] {\cpp{BinOp} =}
    child {node[lbl] {\cpp{BinOp} +}
      child {node[lbl] (X) {\cpp{Id} ``x''}}
      child {node[lbl] {\cpp{IntLit} 42}}
    }
    child {node[lbl] {\cpp{Id} ``y''}}
  };

  \node (VX) at (6.5, 0) {\mi{var int: x}} [level 2/.style={sibling distance=140pt}, level 3/.style={sibling distance=65pt}]
  child {node[lbl] {\cpp{BinOp} +}
    child {node[lbl] {\cpp{BinOp} +}
      child {node[lbl] {\cpp{IntLit} 1}}
      child {node[lbl] {\cpp{IntLit} 1}}
    }
    child {node[label=177:{\ifshowastnumbers\stepcounter{asdasd}\arabic{asdasd}\fi}] {\cpp{BinOp} +}
      child {node[lbl] {\cpp{IntLit} 1}}
      child {node[lbl] {\cpp{IntLit} 1}}
    }
  };

  \draw[-{Straight Barb[scale=1.3]},dashed] plot [smooth] coordinates {(X.south) ($(X.south) + (3, -0.3)$) ($(VX.west) + (-1.2, -0.5)$) (VX.west)};
\end{tikzpicture}
